var Game=function(){function t(){this.gameElement=document.getElementById('game'),this.gameElementWidth=this.gameElement.offsetWidth,this.gameElementHeight=this.gameElement.offsetHeight,this.canvas=document.querySelector('canvas'),this.canvasWidth=this.canvas.width=this.gameElementWidth,this.canvasHeight=this.canvas.height=this.gameElementHeight,this.canvasElementsRatio=this.gameElementWidth/1200,this.context=this.canvas.getContext('2d'),this.ball={dimensions:18*this.canvasElementsRatio,xPostition:{initial:0,change:1.5*this.canvasElementsRatio},yPostition:{initial:0,change:1.5*this.canvasElementsRatio}},this.paddle={height:120*this.canvasElementsRatio,width:18*this.canvasElementsRatio,player:{xPostition:60*this.canvasElementsRatio,yPostition:0},computer:{xPostition:0,yPostition:0}},this.paddle.player.yPostition=(this.canvasHeight-this.paddle.height)/2,this.paddle.computer.xPostition=this.canvasWidth-(this.paddle.player.xPostition+this.paddle.width),this.paddle.computer.yPostition=(this.canvasHeight-this.paddle.height)/2,this.ball.xPostition.initial=this.canvasWidth/2-this.ball.dimensions/2,this.ball.yPostition.initial=this.canvasHeight/2-this.ball.dimensions/2}return t.prototype.drawPlayerPaddle=function(){this.context.fillStyle='orange',this.context.fillRect(this.paddle.player.xPostition,this.paddle.player.yPostition,this.paddle.width,this.paddle.height)},t.prototype.drawComputerPaddle=function(){this.context.fillStyle='#80ff80',this.context.fillRect(this.paddle.computer.xPostition,this.paddle.computer.yPostition,this.paddle.width,this.paddle.height)},t.prototype.drawBall=function(){this.context.fillStyle='#fff7cc',this.context.fillRect(this.ball.xPostition.initial,this.ball.yPostition.initial,this.ball.dimensions,this.ball.dimensions),this.ball.xPostition.initial+=this.ball.xPostition.change,this.ball.yPostition.initial+=this.ball.yPostition.change,(this.ball.yPostition.initial<=0||this.ball.yPostition.initial+this.ball.dimensions>=this.canvasHeight)&&(this.ball.yPostition.change=-this.ball.yPostition.change,this.setBallXPostitionChange()),(this.ball.xPostition.initial<=0||this.ball.xPostition.initial+this.ball.dimensions>=this.canvasWidth)&&(this.ball.xPostition.change=-this.ball.xPostition.change,this.setBallXPostitionChange())},t.prototype.drawTable=function(){var t=5*this.canvasElementsRatio,i=28*this.canvasElementsRatio;this.context.fillStyle='#006400',this.context.fillRect(0,0,this.canvasWidth,this.canvasHeight);for(var a=18*this.canvasElementsRatio;a<this.canvasHeight;a+=46*this.canvasElementsRatio)this.context.fillStyle='#ccffcc',this.context.fillRect(this.canvasWidth/2-t/2,a,t,i)},t.prototype.setPlayerPaddleYPostition=function(t){var i=game.canvas.getBoundingClientRect();game.paddle.player.yPostition=t.clientY-i.top-game.paddle.height/2,game.paddle.player.yPostition>=game.canvasHeight-game.paddle.height&&(game.paddle.player.yPostition=game.canvasHeight-game.paddle.height),game.paddle.player.yPostition<=0&&(game.paddle.player.yPostition=0)},t.prototype.setBallXPostitionChange=function(){0<this.ball.xPostition.change&&this.ball.xPostition.change<16*this.canvasElementsRatio?this.ball.xPostition.change+=.2*this.canvasElementsRatio:this.ball.xPostition.change<0&&this.ball.xPostition.change>-16*this.canvasElementsRatio&&(this.ball.xPostition.change-=.2*this.canvasElementsRatio),0<this.ball.yPostition.change&&this.ball.yPostition.change<16*this.canvasElementsRatio?this.ball.yPostition.change+=.2*this.canvasElementsRatio:this.ball.yPostition.change<0&&this.ball.yPostition.change>-16*this.canvasElementsRatio&&(this.ball.yPostition.change-=.2*this.canvasElementsRatio)},t.prototype.setComputerPaddleYPostition=function(){var t=this.paddle.computer.yPostition+this.paddle.height/2,i=this.ball.yPostition.initial+this.ball.dimensions/2;this.ball.xPostition.initial>this.canvasWidth/2?t-i>200*this.canvasElementsRatio?this.paddle.computer.yPostition-=24*this.canvasElementsRatio:t-i>50*this.canvasElementsRatio?this.paddle.computer.yPostition-=10*this.canvasElementsRatio:t-i<-200*this.canvasElementsRatio?this.paddle.computer.yPostition+=24*this.canvasElementsRatio:t-i<-50*this.canvasElementsRatio&&(this.paddle.computer.yPostition+=10*this.canvasElementsRatio):this.ball.xPostition.initial<=this.canvasWidth/2&&this.ball.xPostition.initial>100*this.canvasElementsRatio&&(t-i>100*this.canvasElementsRatio?this.paddle.computer.yPostition-=3*this.canvasElementsRatio:t-i<-100*this.canvasElementsRatio&&(this.paddle.computer.yPostition+=3*this.canvasElementsRatio)),this.paddle.computer.yPostition>=this.canvasHeight-this.paddle.height&&(this.paddle.computer.yPostition=this.canvasHeight-this.paddle.height),this.paddle.computer.yPostition<=0&&(this.paddle.computer.yPostition=0)},t.prototype.drawGameElements=function(){game.drawTable(),game.drawBall(),game.drawPlayerPaddle(),game.drawComputerPaddle(),game.setComputerPaddleYPostition()},t.prototype.resizeGameArea=function(){setTimeout(function(){window.location.reload()})},t}(),game=new Game;game.canvas.addEventListener('mousemove',game.setPlayerPaddleYPostition),window.addEventListener('resize',game.resizeGameArea),setInterval(game.drawGameElements,1e3/60);